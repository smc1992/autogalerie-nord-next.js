@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.5.0/remixicon.min.css');

/* Globale Overflow-Kontrolle - Verhindert horizontales Scrollen */
@layer base {
  html {
    overflow-x: hidden;
    scroll-behavior: smooth;
  }
  
  body {
    overflow-x: hidden;
    max-width: 100vw;
  }
  
  /* Verhindert, dass Elemente über den Viewport hinausragen */
  * {
    box-sizing: border-box;
  }
  
  /* Container-Sicherheit */
  .container {
    max-width: 100%;
    overflow-x: hidden;
  }
}

/* Optimierungen für große Bildschirme (27 Zoll und größer) */
@layer utilities {
  /* Container-Optimierungen */
  @screen 3xl {
    .container {
      max-width: 1600px;
    }
    
    /* Globale Schriftgrößen-Anpassungen */
    .text-base { font-size: 1.125rem; }
    .text-lg { font-size: 1.25rem; }
    .text-xl { font-size: 1.375rem; }
    .text-2xl { font-size: 1.75rem; }
    .text-3xl { font-size: 2.25rem; }
    .text-4xl { font-size: 2.75rem; }
    .text-5xl { font-size: 3.5rem; }
    .text-6xl { font-size: 4.5rem; }
    
    /* Padding und Margin Anpassungen */
    .py-20 { padding-top: 6rem; padding-bottom: 6rem; }
    .px-6 { padding-left: 2rem; padding-right: 2rem; }
    .mb-8 { margin-bottom: 2.5rem; }
    .mb-12 { margin-bottom: 3.5rem; }
  }
  
  @screen 4xl {
    .container {
      max-width: 2000px;
    }
    
    /* Noch größere Schriftgrößen für 4K */
    .text-base { font-size: 1.25rem; }
    .text-lg { font-size: 1.375rem; }
    .text-xl { font-size: 1.5rem; }
    .text-2xl { font-size: 1.875rem; }
    .text-3xl { font-size: 2.5rem; }
    .text-4xl { font-size: 3rem; }
    .text-5xl { font-size: 4rem; }
    .text-6xl { font-size: 5rem; }
    
    /* Größere Abstände für 4K */
    .py-20 { padding-top: 7rem; padding-bottom: 7rem; }
    .px-6 { padding-left: 2.5rem; padding-right: 2.5rem; }
    .mb-8 { margin-bottom: 3rem; }
    .mb-12 { margin-bottom: 4rem; }
  }
}

/* Klavika Font Family */
@font-face {
  font-family: 'Klavika';
  src: url('../klavika-bold-italic,klavika-bold,klavika-light-italic/klavika-medium.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Klavika';
  src: url('../klavika-bold-italic,klavika-bold,klavika-light-italic/klavika-regular-italic.woff2') format('woff2');
  font-weight: 400;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'Klavika';
  src: url('../klavika-bold-italic,klavika-bold,klavika-light-italic/klavika-light.woff2') format('woff2');
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Klavika';
  src: url('../klavika-bold-italic,klavika-bold,klavika-light-italic/klavika-light-italic.woff2') format('woff2');
  font-weight: 300;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'Klavika';
  src: url('../klavika-bold-italic,klavika-bold,klavika-light-italic/klavika-medium-italic.woff2') format('woff2');
  font-weight: 500;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'Klavika';
  src: url('../klavika-bold-italic,klavika-bold,klavika-light-italic/klavika-bold.woff2') format('woff2');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Klavika';
  src: url('../klavika-bold-italic,klavika-bold,klavika-light-italic/klavika-bold-italic.woff2') format('woff2');
  font-weight: 700;
  font-style: italic;
  font-display: swap;
}

/* QuickSearch Button auf Fahrzeuge-Seite verstecken */
/* Verstecke QuickSearch-generierte Buttons nur auf der Fahrzeuge-Seite */
.fahrzeuge-page a[href*="#am-marketplace"],
.fahrzeuge-page .quicksearch-button,
.fahrzeuge-page a:contains("Fahrzeuge durchsuchen") {
  display: none !important;
}

/* Spezifisch für Hero-Bereich der Fahrzeuge-Seite */
.fahrzeuge-hero .quicksearch,
.fahrzeuge-hero .quicksearch-button,
.fahrzeuge-hero a[href*="durchsuchen"] {
  display: none !important;
}

/* Moderne Komponenten-Styles mit neuen Farben */
@layer components {
  /* Card-Komponenten mit dezenter Akzentfarbe */
  .card {
    @apply bg-white rounded-lg shadow-card border border-neutral-200 transition-all duration-300;
  }
  
  .card:hover {
    @apply shadow-card-hover transform -translate-y-1;
  }
  
  .card-dark {
    @apply bg-accent-950 text-white rounded-lg shadow-card border border-accent-800 transition-all duration-300;
  }
  
  /* Grid-Hintergründe mit dezenter Akzentfarbe */
  .grid-background {
    @apply bg-accent-950 bg-opacity-5 backdrop-blur-sm;
  }
  
  .grid-background-subtle {
    @apply bg-accent-950 bg-opacity-[0.03];
  }
  
  /* Service-Kacheln */
  .service-card {
    @apply bg-white p-6 rounded-lg border border-neutral-200 hover:border-primary-200 transition-all duration-300 hover:shadow-card-hover;
  }
  
  .service-card-dark {
    @apply bg-accent-950 p-6 rounded-lg border border-accent-800 hover:border-primary-600 transition-all duration-300 hover:shadow-card-hover;
  }
  
  /* Buttons mit neuen Farben */
  .btn-primary {
    @apply bg-primary-600 hover:bg-primary-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors duration-300 shadow-subtle hover:shadow-card;
  }
  
  .btn-secondary {
    @apply bg-accent-950 hover:bg-accent-900 text-white px-6 py-3 rounded-lg font-semibold transition-colors duration-300 shadow-subtle hover:shadow-card;
  }
  
  .btn-outline {
    @apply border-2 border-primary-600 text-primary-600 hover:bg-primary-600 hover:text-white px-6 py-3 rounded-lg font-semibold transition-all duration-300;
  }
  
  /* Navigation-Styles */
  .nav-item {
    @apply text-neutral-700 hover:text-primary-600 px-4 py-2 rounded-md transition-colors duration-200;
  }
  
  .nav-item.active {
    @apply text-primary-600 bg-primary-50;
  }
  
  /* Hero-Sections mit Gradient */
  .hero-gradient {
    @apply bg-gradient-to-r from-primary-600 to-primary-700;
  }
  
  .hero-gradient-dark {
    @apply bg-gradient-to-r from-accent-900 to-accent-950;
  }
  
  /* Moderne Grid-Layouts */
  .grid-modern {
    @apply grid gap-6 grid-cols-1 md:grid-cols-2 lg:grid-cols-3;
  }
  
  .grid-modern-large {
    @apply grid gap-8 grid-cols-1 md:grid-cols-2;
  }
  
  /* Fahrzeug-Cards */
  .vehicle-card {
    @apply bg-white rounded-lg shadow-card border border-neutral-200 overflow-hidden transition-all duration-300 hover:shadow-card-hover hover:-translate-y-1;
  }
  
  .vehicle-card-image {
    @apply w-full h-48 object-cover;
  }
  
  .vehicle-card-content {
    @apply p-6;
  }
  
  .vehicle-card-price {
    @apply text-2xl font-bold text-primary-600;
  }
  
  /* Sections mit dezenten Hintergründen */
  .section-light {
    @apply bg-neutral-50;
  }
  
  .section-accent {
    @apply bg-accent-950 bg-opacity-[0.03];
  }
  
  .section-primary {
    @apply bg-primary-50;
  }
  
  /* Text-Styles */
  .text-primary {
    @apply text-primary-600;
  }
  
  .text-accent {
    @apply text-accent-700;
  }
  
  .text-muted {
    @apply text-neutral-600;
  }
  
  /* Hover-Effekte */
  .hover-lift {
    @apply transition-transform duration-300 hover:-translate-y-1;
  }
  
  .hover-scale {
    @apply transition-transform duration-300 hover:scale-105;
  }
  
  /* Moderne Schatten */
  .shadow-modern {
    @apply shadow-card;
  }
  
  .shadow-modern-hover {
    @apply shadow-card-hover;
  }
}

/* AUTOMANAGER Marketplace Mobile Optimierungen */
@layer components {
  .marketplace-container {
    /* Basis-Container-Styles */
    width: 100% !important;
    max-width: 100% !important;
    overflow-x: hidden !important;
    box-sizing: border-box !important;
    /* Scroll-Probleme beheben */
    position: relative !important;
    min-height: 400px !important;
  }
  
  /* Font-Preload-Fixes für AUTOMANAGER */
  .marketplace-container * {
    font-display: swap !important;
  }
  
  /* API-Fehler-Toleranz */
   .marketplace-container .error-message,
   .marketplace-container .loading-error {
     display: none !important;
   }
   
   /* Angular Bootstrap-Fixes */
   .marketplace-container .ng-scope {
     position: relative !important;
     overflow: visible !important;
   }
   
   /* Verhindere doppelte Initialisierung */
   .marketplace-container[data-initialized="true"] {
     pointer-events: auto !important;
   }
   
   /* API-Verbindungsfehler ausblenden */
   .marketplace-container .api-error,
   .marketplace-container .connection-error {
     display: none !important;
   }
   
   /* Erweiterte API-Fehlerbehandlung */
   .marketplace-container [class*="error"],
   .marketplace-container [class*="failed"],
   .marketplace-container [class*="abort"] {
     display: none !important;
   }
   
   /* DOM-Stabilität für AUTOMANAGER-Elemente */
   .marketplace-container #am-marketplace {
     /* Verhindere ungewollte Entfernung */
     position: relative !important;
     z-index: 1 !important;
   }
   
   /* Sichere parentNode-Struktur */
   .marketplace-container {
     /* Stelle sicher, dass Container immer verfügbar ist */
     min-height: 1px !important;
     position: relative !important;
   }
  
  /* AUTOMANAGER Scroll-Fix */
   .marketplace-container #am-marketplace {
     position: relative !important;
     overflow: visible !important;
     min-height: 400px !important;
     /* DOM-Stabilität */
     contain: layout !important;
   }
   
   /* Verhindere parentNode-Fehler */
   .marketplace-container * {
     pointer-events: auto !important;
   }
   
   /* AUTOMANAGER DOM-Fixes */
   .marketplace-container [id*="am-"],
   .marketplace-container [class*="am-"] {
     position: relative !important;
     display: block !important;
   }
  
  /* Verhindere Scroll-Fehler */
  .marketplace-container * {
    scroll-behavior: auto !important;
  }
  
  /* Angular-spezifische Fixes */
   .marketplace-container [ng-app],
   .marketplace-container [data-ng-app],
   .marketplace-container .ng-scope {
     position: relative !important;
     overflow: visible !important;
   }
   
   /* Scroll-Target-Fixes für AUTOMANAGER */
   .marketplace-container .scroll-target,
   .marketplace-container [data-scroll-target],
   .marketplace-container .am-scroll-target {
     position: relative !important;
     top: 0 !important;
     left: 0 !important;
   }
   
   /* Verhindere undefined scroll targets */
   .marketplace-container .result-list,
   .marketplace-container .vehicle-list,
   .marketplace-container .search-results {
     position: relative !important;
     top: 0 !important;
   }
   
   /* AUTOMANAGER Layout-Stabilisierung */
   .marketplace-container .am-content,
   .marketplace-container .am-main,
   .marketplace-container .am-wrapper {
     position: relative !important;
     width: 100% !important;
     max-width: 100% !important;
     overflow-x: hidden !important;
   }
  
  /* Globale Marketplace-Optimierungen */
  .marketplace-container * {
    max-width: 100% !important;
    box-sizing: border-box !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
  }
  
  /* Spezifische AUTOMANAGER-Elemente */
  .marketplace-container #am-marketplace,
  .marketplace-container [id*="am-"],
  .marketplace-container [class*="am-"],
  .marketplace-container [class*="marketplace"] {
    width: 100% !important;
    max-width: 100% !important;
    overflow-x: hidden !important;
    box-sizing: border-box !important;
  }
  
  /* Text-Elemente im Marketplace */
  .marketplace-container p,
  .marketplace-container div,
  .marketplace-container span,
  .marketplace-container h1,
  .marketplace-container h2,
  .marketplace-container h3,
  .marketplace-container h4,
  .marketplace-container h5,
  .marketplace-container h6 {
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    hyphens: auto !important;
    max-width: 100% !important;
  }
  
  /* Tabellen im Marketplace */
  .marketplace-container table {
    width: 100% !important;
    max-width: 100% !important;
    table-layout: fixed !important;
    overflow-x: auto !important;
  }
  
  .marketplace-container td,
  .marketplace-container th {
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    max-width: 0 !important;
  }
  
  /* Bilder im Marketplace */
  .marketplace-container img {
    max-width: 100% !important;
    height: auto !important;
    object-fit: contain !important;
  }
  
  /* Mobile-spezifische Anpassungen */
  @media (max-width: 768px) {
    .marketplace-container {
      padding: 5px !important;
      margin: 0 !important;
      width: 100vw !important;
      max-width: 100vw !important;
      left: 50% !important;
      right: 50% !important;
      margin-left: -50vw !important;
      margin-right: -50vw !important;
      position: relative !important;
    }
    
    /* Volle Breite für alle Marketplace-Elemente */
    .marketplace-container #am-marketplace,
    .marketplace-container [id*="am-"],
    .marketplace-container [class*="am-"],
    .marketplace-container [class*="marketplace"] {
      width: 100% !important;
      max-width: 100% !important;
      margin: 0 !important;
      padding: 5px !important;
    }
    
    /* Optimierte Schriftgrößen und Zeilenumbrüche */
    .marketplace-container {
      font-size: 14px !important;
      line-height: 1.5 !important;
      white-space: normal !important;
      word-break: break-word !important;
      overflow-wrap: break-word !important;
      hyphens: auto !important;
    }
    
    /* Bessere Textumbrüche für alle Elemente */
    .marketplace-container p,
    .marketplace-container div,
    .marketplace-container span,
    .marketplace-container h1,
    .marketplace-container h2,
    .marketplace-container h3,
    .marketplace-container h4,
    .marketplace-container h5,
    .marketplace-container h6 {
      white-space: normal !important;
      word-break: break-word !important;
      overflow-wrap: break-word !important;
      hyphens: auto !important;
      line-height: 1.4 !important;
    }
    
    /* Buttons und Links */
    .marketplace-container button,
    .marketplace-container a {
      min-height: 44px !important;
      padding: 8px 12px !important;
      font-size: 14px !important;
      white-space: normal !important;
      word-wrap: break-word !important;
    }
    
    /* Formulare */
    .marketplace-container input,
    .marketplace-container select,
    .marketplace-container textarea {
      width: 100% !important;
      max-width: 100% !important;
      font-size: 16px !important; /* Verhindert Zoom auf iOS */
      box-sizing: border-box !important;
    }
    
    /* Fahrzeugkarten und Listen */
     .marketplace-container .vehicle-card,
     .marketplace-container .vehicle-item,
     .marketplace-container .car-item,
     .marketplace-container .result-item,
     .marketplace-container .result-item-data {
       width: 100% !important;
       max-width: 100% !important;
       margin: 5px 0 !important;
       padding: 10px !important;
       box-sizing: border-box !important;
     }
     
     /* Spezifische AUTOMANAGER result-item Optimierungen */
     .marketplace-container .result-item-data .row,
     .marketplace-container .result-item-data .col,
     .marketplace-container .result-item-data .col-12,
     .marketplace-container .result-item-data .col-sm-4,
     .marketplace-container .result-item-data .col-sm-8,
     .marketplace-container .result-item-data .col-xl-3,
     .marketplace-container .result-item-data .col-xl-9 {
       width: 100% !important;
       max-width: 100% !important;
       flex: 0 0 100% !important;
       padding-left: 5px !important;
       padding-right: 5px !important;
       margin: 0 !important;
     }
     
     /* Fahrzeugbilder in result-items */
     .marketplace-container .result-item-data img,
     .marketplace-container .result-item-data .img-fluid {
       width: 100% !important;
       max-width: 100% !important;
       height: auto !important;
       object-fit: cover !important;
     }
     
     /* Fahrzeugtitel und Links */
     .marketplace-container .result-item-data h4,
     .marketplace-container .result-item-data .item-title {
       font-size: 16px !important;
       line-height: 1.3 !important;
       margin-bottom: 8px !important;
       word-wrap: break-word !important;
       overflow-wrap: break-word !important;
     }
     
     /* Badges und Labels */
     .marketplace-container .result-item-data .badge,
     .marketplace-container .result-item-data .badge-outline-secondary {
       font-size: 12px !important;
       padding: 4px 8px !important;
       margin: 2px !important;
       white-space: nowrap !important;
     }
    
    /* Preise und wichtige Informationen */
    .marketplace-container .price,
    .marketplace-container .vehicle-price,
    .marketplace-container .car-price {
      font-size: 16px !important;
      font-weight: bold !important;
      white-space: nowrap !important;
    }
  }
  
  /* Extra kleine Bildschirme */
  @media (max-width: 480px) {
    .marketplace-container {
      padding: 3px !important;
      width: 100vw !important;
      max-width: 100vw !important;
      font-size: 13px !important;
      line-height: 1.3 !important;
    }
    
    /* Noch kompaktere Darstellung für sehr kleine Bildschirme */
    .marketplace-container #am-marketplace,
    .marketplace-container [id*="am-"],
    .marketplace-container [class*="am-"],
    .marketplace-container [class*="marketplace"] {
      padding: 3px !important;
      margin: 0 !important;
    }
    
    /* Kleinere Buttons für Touch-Bedienung */
    .marketplace-container button,
    .marketplace-container a {
      min-height: 40px !important;
      padding: 6px 10px !important;
      font-size: 13px !important;
    }
    
    /* Fahrzeugkarten kompakter */
     .marketplace-container .vehicle-card,
     .marketplace-container .vehicle-item,
     .marketplace-container .car-item,
     .marketplace-container .result-item,
     .marketplace-container .result-item-data {
       padding: 8px !important;
       margin: 3px 0 !important;
     }
     
     /* Result-item Spalten für sehr kleine Bildschirme */
     .marketplace-container .result-item-data .row,
     .marketplace-container .result-item-data .col,
     .marketplace-container .result-item-data .col-12,
     .marketplace-container .result-item-data .col-sm-4,
     .marketplace-container .result-item-data .col-sm-8,
     .marketplace-container .result-item-data .col-xl-3,
     .marketplace-container .result-item-data .col-xl-9 {
       padding-left: 3px !important;
       padding-right: 3px !important;
     }
     
     /* Kleinere Fahrzeugtitel */
     .marketplace-container .result-item-data h4,
     .marketplace-container .result-item-data .item-title {
       font-size: 14px !important;
       line-height: 1.2 !important;
       margin-bottom: 6px !important;
     }
     
     /* Kompakte Badges */
     .marketplace-container .result-item-data .badge,
     .marketplace-container .result-item-data .badge-outline-secondary {
       font-size: 11px !important;
       padding: 3px 6px !important;
       margin: 1px !important;
     }
    
    /* Preise bleiben gut lesbar */
    .marketplace-container .price,
    .marketplace-container .vehicle-price,
    .marketplace-container .car-price {
      font-size: 15px !important;
    }
  }
}

/* Brand Logo Marquee */
@layer components {
  .logo-marquee {
    position: relative;
    overflow: hidden;
  }

  .logo-track {
    display: flex;
    gap: 2.5rem; /* ~gap-10 */
    align-items: center;
    width: max-content;
    animation: logo-marquee 30s linear infinite;
  }

  .logo-track:hover {
    animation-play-state: paused;
  }

  @keyframes logo-marquee {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
  }

  .logo-fade-left,
  .logo-fade-right {
    pointer-events: none;
    position: absolute;
    top: 0;
    bottom: 0;
    width: 64px;
  }

  .logo-fade-left {
    left: 0;
    background: linear-gradient(to right, rgba(255,255,255,1), rgba(255,255,255,0));
  }

  .logo-fade-right {
    right: 0;
    background: linear-gradient(to left, rgba(255,255,255,1), rgba(255,255,255,0));
  }
}
